<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/static/style.css" />
    <link rel="icon" href="/static/favicon.svg" />
    <title>{{ .query }}</title>
  </head>
  <body>
    <form class="search-row-container" method="get" action="search">
      <input
        type="text"
        name="q"
        class="search-input search-row-input"
        value="{{ .query }}"
        autofocus
        required
      />
      <input type="text" value="{{ .type }}" name="type" hidden />
      <label>
        <input type="submit" class="search-row-submit" value="Search" hidden />
        <img id="search-icon" src="/static/favicon.svg" />
      </label>
    </form>
    <section id="providers">
      <a href="/search?q={{ .query }}&type=text">
        <img src="/static/text.svg" />
        <span>General</span>
      </a>
      <a href="/search?q={{ .query }}&type=image">
        <img src="/static/image.svg" />
        <span>Image</span>
      </a>
      <a href="/search?q={{ .query }}&type=video">
        <img src="/static/video.svg" />
        <span>Video</span>
      </a>
      <a href="/search?q={{ .query }}&type=music">
        <img src="/static/music.svg" />
        <span>Music</span>
      </a>
    </section>
    <p>Fetched the results in {{ .timeTaken }}</p>
    {{ with .dict }} {{ if not (eq .Definition "") }}
    <section class="dict">
      <span>{{ .PartOfSpeech }}</span>
      <p>{{ .Definition }}</p>
      <div>{{ .Example }}</div>
    </section>
    {{ end }} {{ end }} {{ with .wiki }} {{ if not (eq .Description "") }}
    <section class="wiki">
      <a href="{{ .Url }}" class="wiki">
        {{ if not (eq .Thumbnail "") }}
        <img src="{{ .Thumbnail }}" />
        {{ end }}
        <p>{{ .Description }}</p>
      </a>
    </section>
    {{ end }} {{ end }}
    <section id="results">
      {{ range .results }}
      <a href="{{ .Url }}">
        <p>{{ .Short }}</p>
        <h1>{{ .Title }}</h1>
        <p>{{ .Description }}</p>
      </a>
      {{ end }}
    </section>
    <section id="images">
      {{ range .images }}
      <div class="img-container">
        <a href="{{ .Media }}">
          <img src="{{ .Thumbnail }}" alt="{{ .Title }}" />
        </a>
        <a class="img-title" href="{{ .Url }}">{{ .Title }}</a>
      </div>
      {{ end }}
    </section>
    <section id="videos">
      {{ range .videos }}
      <a href="{{ .Url }}">
        <span class="thumbnail-container">
          <img src="{{ .Thumbnail }}" alt="" />
          <span>{{ .DurationString }}</span>
        </span>
        <h3>{{ .Title }}</h3>
        {{ if not (eq .Views 0) }}
        <p>{{ .Uploader }} ⋅ {{ .UploadDate }} ⋅ {{ .ViewsString }}</p>
        {{ else }}
        <p>{{ .Uploader }}</p>
        {{ end }}
      </a>
      {{ end }}
    </section>
    {{ if or (eq .type "text") (eq .type "image")}}
    <div id="btm-container">
      {{ if not (eq .prev 0)}}
      <a href="/search?q={{ .query }}&page={{ .prev }}&type={{ .type }}"
        >Previous</a
      >
      {{ end }} {{ if not (eq .Next 0)}}
      <a href="/search?q={{ .query }}&page={{ .next }}&type={{ .type }}"
        >Next</a
      >
      {{ end }}
    </div>
    {{ end }}
  </body>
</html>
